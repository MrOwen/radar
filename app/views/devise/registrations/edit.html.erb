	
<div id="inside_container" class="inside_container">
<div class="form_header">Edit <%= resource_name.to_s.humanize %></div>

<%= form_for(@staff, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
  <%= devise_error_messages! %>

	<div class="field" >
		<%= f.label :first_name %><br />
		<%= f.text_field :first_name %>
	</div>
	<div class="field">
		<%= f.label :last_name %><br />
		<%= f.text_field :last_name %>
	</div>

	<div class="field"> 
		<%= f.label :email %><br />
		<%= f.text_field :email %>
	</div>

	<div class="field">
		<%= f.label :password %> <i>(leave blank if you don't want to change it)</i><br />
		<%= f.password_field :password %>
	</div>

	<div class="field" >
		<%= f.label :password_confirmation %><br />
		<%= f.password_field :password_confirmation %>
	</div>
	<div class="field">
	  <%= link_to "Preferences", staff_preferences_path(@staff) %> 
    </div>
  <div class="field">
    <%= render :partial => "devise/registrations/authorization_select", :locals=> { :staff => @staff } %>
  </div>


  <% if @staff.staff_areas.length > 0 %>
	<div class="field" >
		<%= f.label :area %>
		<% if can? :update_area, @staff %>
			<br /><%= f.collection_select( :staff_areas, Area.order(:name), :id, :name, {:selected => @staff.staff_areas.first.area_id} ) %></p>
		<% else %>
			&nbsp;<%= @staff.staff_areas.first.area.name %></b>
		<% end %>
	</div>
  <% end %>
  <%= f.hidden_field :id, :value => @staff.id %>

  <p><%= f.submit "Update" %></p>
<% end %>
</div>